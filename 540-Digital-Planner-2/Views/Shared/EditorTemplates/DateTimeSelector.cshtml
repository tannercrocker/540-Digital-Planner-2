@{
    String name = "OccursAt";
    if (ViewBag.name != null)
    {
        name = ViewBag.name;
    }

    int? index = ViewBag.index;
    if(index == null)
    {
        index = 0;
    }

    DateTime dt = DateTime.Now;
    if (ViewBag.date_time != null)
    {
        dt = ViewBag.date_time;
    }
}
<div class="DateTimeSelector bootstrap-datetimepicker-widget" style="overflow:hidden;">
    <input id="@name-@index" name="@name" class="form-control" type="hidden" value="@dt.ToString("M/d/yyy h:mm tt")" />
    <div class="form-group">
        <div class="row">
            <div class="col-md-8">
                <div id="datetimepicker-@index"></div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function () {

            $("#datetimepicker-@index").datetimepicker({
                format: "M/D/YYYY LT",
                useCurrent: true,
                inline: true,
                sideBySide: true,
                defaultDate: "@dt.ToString("yyyy-MM-ddTHH:mm:ss.ffffff")"   //ISO Format
            });

            $("#datetimepicker-@index").on('dp.change', function (ev) {
                //console.log(ev.date.format("M/D/YYYY LT"))
                $("#@name-@index").val(ev.date.format("M/D/YYYY LT"));
            });
        });
    </script>
</div>