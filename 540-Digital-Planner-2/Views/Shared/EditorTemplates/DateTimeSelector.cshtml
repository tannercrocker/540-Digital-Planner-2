@{
    int? index = ViewBag.picker_index;
    if(index == null)
    {
        index = 0;
    }
}
<div class="DateTimeSelector bootstrap-datetimepicker-widget" style="overflow:hidden;">
    <input id="pickerinput-@index" class="form-control" type="text" hidden value="@DateTime.Now.ToString("M/d/yyy h:mm tt")" />
    <div class="form-group">
        <div class="row">
            <div class="col-md-8">
                <div id="datetimepicker-@index"></div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function () {
            //var dp = $("#datetimepicker-@index");

            $("#datetimepicker-@index").datetimepicker({
                format: 'M/D/YYYY h:mm A',
                useCurrent: true,
                inline: true,
                sideBySide: true
            });

            $("#datetimepicker-@index, #datetimepicker-@index *").on('dp.change', function (ev) {
                $("#pickerinput-@index").val(ev.datetime.format('M/D/YYYY h:mm A'));
            });
        });
    </script>
</div>